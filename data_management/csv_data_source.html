

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CSV data source &mdash; oneDAL  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicons.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tables" href="tables.html" />
    <link rel="prev" title="Data Sources" href="data_sources.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://oneapi.com" class="icon icon-home"> oneDAL
          

          
            
            <img src="../_static/oneapi-logo1.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notations.html">Mathematical Notations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming_model/index.html">Programming model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common_interface/index.html">Common Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data management</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="array.html">Array</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessors.html">Accessors</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="data_sources.html">Data Sources</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">CSV data source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tables.html">Tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oneDAL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">oneAPI Specification</a> &raquo;</li>
        
          
          <li><a href="index.html">Data management</a> </li>
          
        
          
        
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/data_management/csv_data_source.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="csv-data-source">
<span id="id1"></span><h1>CSV data source<a class="headerlink" href="#csv-data-source" title="Permalink to this headline">¶</a></h1>
<p>Class <code class="docutils literal notranslate"><span class="pre">csv::data_source</span></code> is an API for accessing the data source represented
as a <a class="reference internal" href="../glossary.html#term-CSV-file"><span class="xref std std-term">csv file</span></a>. CSV data source shall be used with
<code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">read</span></code> operation to extract data in text format from the given input file,
process it using provided parameters (such as delimiter and read options),
transform it into numerical representation, and store it as an in-memory
<a class="reference internal" href="index.html#dataset"><span class="std std-ref">dataset</span></a> of a chosen type.</p>
<p>Supported type of in-memory object for <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">read</span></code> operation with CSV data
source is <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">oneapi</span><span class="pre">::</span><span class="pre">dal</span><span class="pre">::</span><a class="reference internal" href="tables.html#_CPPv4N6oneapi3dal5tableE" title="oneapi::dal::table"><span class="pre">table</span></a></code>.</p>
<p>CSV data source requires input file name to be set in the constructor, while the
other parameters of the constructor such as delimiter and read options rely on
default values.</p>
<div class="section" id="usage-example">
<h2>Usage example<a class="headerlink" href="#usage-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">oneapi</span><span class="p">;</span>

<span class="k">const</span> <span class="k">auto</span> <span class="n">data_source</span> <span class="o">=</span> <span class="n">dal</span><span class="o">::</span><span class="n">csv</span><span class="o">::</span><span class="n">data_source</span><span class="p">(</span><span class="s">&quot;data.csv&quot;</span><span class="p">,</span> <span class="sc">&#39;,&#39;</span><span class="p">);</span>

<span class="k">const</span> <span class="k">auto</span> <span class="n">table</span> <span class="o">=</span> <span class="n">dal</span><span class="o">::</span><span class="n">read</span><span class="o">&lt;</span><span class="n">dal</span><span class="o">::</span><span class="n">table</span><span class="o">&gt;</span><span class="p">(</span><span class="n">data_source</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-interface">
<h2>Programming Interface<a class="headerlink" href="#programming-interface" title="Permalink to this headline">¶</a></h2>
<p>All types and functions in this section shall be declared in the
<code class="docutils literal notranslate"><span class="pre">oneapi::dal::csv</span></code> namespace and be available via inclusion of the
<code class="docutils literal notranslate"><span class="pre">oneapi/dal/io/csv.hpp</span></code> header file.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="k">class</span> <span class="nc">read_options</span> <span class="o">:</span> <span class="n">std</span><span class="o">::</span><span class="kt">uint64_t</span> <span class="p">{</span>
   <span class="n">none</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
   <span class="n">parse_header</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="k">constexpr</span> <span class="kt">char</span> <span class="n">default_delimiter</span> <span class="o">=</span> <span class="sc">&#39;,&#39;</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="n">read_options</span> <span class="n">default_read_options</span> <span class="o">=</span> <span class="n">read_options</span><span class="o">::</span><span class="n">none</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">data_source</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">data_source</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">file_name</span><span class="p">,</span>
               <span class="kt">char</span> <span class="n">delimiter</span> <span class="o">=</span> <span class="n">default_delimiter</span><span class="p">,</span>
               <span class="n">read_options</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">default_read_options</span><span class="p">);</span>

   <span class="n">data_source</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">file_name</span><span class="p">,</span>
               <span class="kt">char</span> <span class="n">delimiter</span> <span class="o">=</span> <span class="n">default_delimiter</span><span class="p">,</span>
               <span class="n">read_options</span> <span class="n">opts</span> <span class="o">=</span> <span class="n">default_read_options</span><span class="p">);</span>

   <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">get_file_name</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="kt">char</span> <span class="nf">get_delimiter</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
   <span class="n">read_options</span> <span class="nf">get_read_options</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<dl class="cpp class">
<dt id="_CPPv4N6oneapi3dal3csv11data_sourceE">
<span id="_CPPv3N6oneapi3dal3csv11data_sourceE"></span><span id="_CPPv2N6oneapi3dal3csv11data_sourceE"></span><span id="oneapi::dal::csv::data_source"></span><em class="property">class </em><code class="sig-name descname">data_source</code><a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_sourceE" title="Permalink to this definition">¶</a><br /></dt>
<dd><dl class="cpp function">
<dt id="_CPPv4N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options">
<span id="_CPPv3N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options"></span><span id="_CPPv2N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options"></span><span id="oneapi::dal::csv::data_source::data_source__cCP.c.read_options"></span><code class="sig-name descname">data_source</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>file_name</em>, char <em>delimiter</em> = default_delimiter, read_options <em>opts</em> = default_read_options<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Creates a new instance of a CSV data source with the given
<code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options" title="oneapi::dal::csv::data_source::data_source::file_name"><span class="pre">file_name</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options" title="oneapi::dal::csv::data_source::data_source::delimiter"><span class="pre">delimiter</span></a></code> and read options <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceEPKcc12read_options" title="oneapi::dal::csv::data_source::data_source::opts"><span class="pre">opts</span></a></code> flag.</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options">
<span id="_CPPv3N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options"></span><span id="_CPPv2N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options"></span><span id="oneapi::dal::csv::data_source::data_source__ssCR.c.read_options"></span><code class="sig-name descname">data_source</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>file_name</em>, char <em>delimiter</em> = default_delimiter, read_options <em>opts</em> = default_read_options<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Creates a new instance of a CSV data source with the given
<code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options" title="oneapi::dal::csv::data_source::data_source::file_name"><span class="pre">file_name</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options" title="oneapi::dal::csv::data_source::data_source::delimiter"><span class="pre">delimiter</span></a></code> and read options <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_source11data_sourceERKNSt6stringEc12read_options" title="oneapi::dal::csv::data_source::data_source::opts"><span class="pre">opts</span></a></code> flag.</p>
</dd></dl>

<dl class="cpp member">
<dt id="_CPPv4N6oneapi3dal3csv11data_source9file_nameE">
<span id="_CPPv3N6oneapi3dal3csv11data_source9file_nameE"></span><span id="_CPPv2N6oneapi3dal3csv11data_source9file_nameE"></span><span id="oneapi::dal::csv::data_source::file_name__ss"></span>std::string <code class="sig-name descname">file_name</code> = &quot;&quot;<a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_source9file_nameE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A string that contains the name of the file with the dataset to read.</p>
<dl>
<dt>Getter</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">get_filename()</span> <span class="pre">const</span></code></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="cpp member">
<dt id="_CPPv4N6oneapi3dal3csv11data_source9delimiterE">
<span id="_CPPv3N6oneapi3dal3csv11data_source9delimiterE"></span><span id="_CPPv2N6oneapi3dal3csv11data_source9delimiterE"></span><span id="oneapi::dal::csv::data_source::delimiter__c"></span>char <code class="sig-name descname">delimiter</code> = default_delimiter<a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_source9delimiterE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A character that represents the delimiter between separate features in the
input file.</p>
<dl>
<dt>Getter</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">get_delimter()</span> <span class="pre">const</span></code></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="cpp member">
<dt id="_CPPv4N6oneapi3dal3csv11data_source7optionsE">
<span id="_CPPv3N6oneapi3dal3csv11data_source7optionsE"></span><span id="_CPPv2N6oneapi3dal3csv11data_source7optionsE"></span><span id="oneapi::dal::csv::data_source::options__read_options"></span>read_options <code class="sig-name descname">options</code> = default_read_options<a class="headerlink" href="#_CPPv4N6oneapi3dal3csv11data_source7optionsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value that stores read options to be applied during reading of the input
file. Enabled <code class="docutils literal notranslate"><span class="pre">parse_header</span></code> option indicates that the first line in the
input file shall be processed as a header record with features names.</p>
<dl>
<dt>Getter</dt><dd><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">read_options</span> <span class="pre">get_read_options()</span> <span class="pre">const</span></code></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="reading-oneapi-dal-read-object">
<h2>Reading <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">oneapi</span><span class="pre">::</span><span class="pre">dal</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource" title="oneapi::dal::read"><span class="pre">read</span></a><span class="pre">&lt;</span><span class="pre">Object</span><span class="pre">&gt;</span><span class="sig-paren">(</span><span class="pre">...</span><span class="sig-paren">)</span></code><a class="headerlink" href="#reading-oneapi-dal-read-object" title="Permalink to this headline">¶</a></h2>
<div class="section" id="args">
<h3>Args<a class="headerlink" href="#args" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Object</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">read_args</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">read_args</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<dl class="cpp class">
<dt id="_CPPv4I0EN6oneapi3dal3csv9read_argsE">
<span id="_CPPv3I0EN6oneapi3dal3csv9read_argsE"></span><span id="_CPPv2I0EN6oneapi3dal3csv9read_argsE"></span>template&lt;typename <code class="sig-name descname">Object</code>&gt;<br /><em class="property">class </em><code class="sig-name descname">read_args</code><a class="headerlink" href="#_CPPv4I0EN6oneapi3dal3csv9read_argsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><dl class="cpp function">
<dt id="_CPPv4N6oneapi3dal3csv9read_args9read_argsEv">
<span id="_CPPv3N6oneapi3dal3csv9read_args9read_argsEv"></span><span id="_CPPv2N6oneapi3dal3csv9read_args9read_argsEv"></span><span id="oneapi::dal::csv::read_args::read_args"></span><code class="sig-name descname">read_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6oneapi3dal3csv9read_args9read_argsEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Creates args for the read operation with the default attribute
values.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="operation">
<h3>Operation<a class="headerlink" href="#operation" title="Permalink to this headline">¶</a></h3>
<p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">oneapi</span><span class="pre">::</span><span class="pre">dal</span><span class="pre">::</span><a class="reference internal" href="tables.html#_CPPv4N6oneapi3dal5tableE" title="oneapi::dal::table"><span class="pre">table</span></a></code> is the only supported value of the <code class="code docutils literal notranslate"><span class="pre">Object</span></code>
template parameter for <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource" title="oneapi::dal::read"><span class="pre">read</span></a></code> operation with CSV data source.</p>
<dl class="cpp function">
<dt id="_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource">
<span id="_CPPv3I00EN6oneapi3dal4readERK10DataSource"></span><span id="_CPPv2I00EN6oneapi3dal4readERK10DataSource"></span>template&lt;typename <code class="sig-name descname">Object</code>, typename <code class="sig-name descname">DataSource</code>&gt;<br /><a class="reference internal" href="#_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource" title="oneapi::dal::read::Object">Object</a> <code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource" title="oneapi::dal::read::DataSource">DataSource</a> &amp;<em>ds</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN6oneapi3dal4readE6ObjectRK10DataSource" title="Permalink to this definition">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Template Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Object</strong> – oneDAL object type that shall be produced as a result of
reading from the data source.</p></li>
<li><p><strong>DataSource</strong> – CSV data source <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">csv</span><span class="pre">::</span><a class="reference internal" href="#_CPPv4N6oneapi3dal3csv11data_sourceE" title="oneapi::dal::csv::data_source"><span class="pre">data_source</span></a></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tables.html" class="btn btn-neutral float-right" title="Tables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data_sources.html" class="btn btn-neutral float-left" title="Data Sources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>